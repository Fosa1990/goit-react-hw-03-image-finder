(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Search:"Searchbar_Search__2TsI-",Search__form:"Searchbar_Search__form__3vHB9",Search__button:"Searchbar_Search__button__CNEj6",Search__label:"Searchbar_Search__label__zjZpS",Search__input:"Searchbar_Search__input__1B4YD"}},13:function(e,t,a){e.exports={Backdrop:"Modal_Backdrop__227bQ",Modal:"Modal_Modal__1oGgW",CloseModal:"Modal_CloseModal__3u-gp"}},15:function(e,t,a){e.exports={GalleryItem:"GalleryItem_GalleryItem__8GVeX",GalleryItem__image:"GalleryItem_GalleryItem__image__iRJqy"}},26:function(e,t,a){e.exports={Button:"Button_Button__17xtT"}},27:function(e,t,a){e.exports={Gallery:"Gallery_Gallery__1gHUn"}},29:function(e,t,a){e.exports={IconButton:"IconButton_IconButton__1k1AI"}},36:function(e,t,a){},58:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),l=(a(36),a(16)),i=a(6),s=a(7),u=a(9),d=a(8),h={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},g={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},p={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},b=a(4),m=a(10),f=a.n(m),j=a(1),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.query,n=e.props.onSubmit;t.preventDefault(),""!==a.trim()?(n(a),e.setState({query:""})):b.b.info("Write something! Your Majesty",p)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(j.jsx)("header",{className:f.a.Search,children:Object(j.jsxs)("form",{className:f.a.Search__form,onSubmit:this.handleSubmit,children:[Object(j.jsx)("button",{className:f.a.Search__button,type:"submit",children:Object(j.jsx)("span",{className:f.a.Search__label,children:"Search"})}),Object(j.jsx)("input",{name:"form_input",value:e,onChange:this.handleChange,className:f.a.Search__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),y=O,_=a(26),v=a.n(_),k=function(e){var t=e.onClick;return Object(j.jsx)("button",{className:v.a.Button,type:"button",onClick:t,children:"Load More"})},C=a(15),S=a.n(C),w=function(e,t){var a=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(j.jsx)("li",{className:S.a.GalleryItem,children:Object(j.jsx)("img",{onClick:t,src:n,"data-large":r,alt:o,className:S.a.GalleryItem__image})},"id-".concat(a))};w.defaultProps={onClick:function(){return null}};var x=w,I=a(27),L=a.n(I),B=function(e){var t=e.gallery,a=e.onClick;return Object(j.jsx)("ul",{className:L.a.Gallery,children:t.map((function(e){return x(e,a)}))})};B.defaultProps={onClick:function(){return null}};var M=B,P=a(28),N=a.n(P),G=(a(58),function(){return Object(j.jsx)(N.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}),U=function(e){var t=e.children;return Object(j.jsx)("div",{className:"Section",children:t})},R=a(17),E=a(31),T=a(29),q=a.n(T),A=["children","onClick","className"],D=function(e){var t=e.children,a=e.onClick,n=e.className,r=Object(E.a)(e,A);return Object(j.jsx)("button",Object(R.a)(Object(R.a)({onClick:a,type:"button",className:"".concat(q.a.IconButton," ").concat(n)},r),{},{children:t}))};D.defaultProps={onClick:function(){return null},children:null};var F,H=D,Y=a(13),z=a.n(Y),J=["title","titleId"];function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K.apply(this,arguments)}function W(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function X(e,t){var a=e.title,r=e.titleId,o=W(e,J);return n.createElement("svg",K({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,F||(F=n.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var Q=n.forwardRef(X),V=(a.p,document.querySelector("#root-modal")),Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.children;return Object(o.createPortal)(Object(j.jsx)("div",{className:z.a.Backdrop,onClick:this.handleBackdropClick,children:Object(j.jsxs)("div",{className:z.a.Modal,children:[Object(j.jsx)(H,{onClick:t,className:z.a.CloseModal,"aria-label":"Close Modal Button",children:Object(j.jsx)(Q,{width:"32",height:"32"})}),a]})}),V)}}]),a}(n.Component),$=Z,ee=a(30),te=a.n(ee),ae=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"23935285-7259499af9fe05c3ca983c7fa"}),n="".concat("https://pixabay.com/api/","?").concat(a);return te.a.get(n).then((function(e){return 200===e.status&&0!==e.data.hits.length?e.data.hits:null}))},ne=(a(77),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],isLoading:!1,currentPage:1,search:"",error:null,selectedBigImageURL:"",selectedLowImageURL:"",altImageTitle:"",isModalOpen:!1},e.fetchPictures=function(){var t=e.state,a=t.search,n=t.currentPage;e.setState({isLoading:!0}),ae(a,n).then((function(t){t?(t.length>1&&b.b.info("Found! Your Majesty",p),e.setState((function(e){return{gallery:[].concat(Object(l.a)(e.gallery),Object(l.a)(t)),currentPage:e.currentPage+1}}))):b.b.error("No such results! Your Majesty",g)})).catch((function(t){return e.setState({error:t})})).finally((function(){e.onLoadMoreButtonClick(),e.setState({isLoading:!1})}))},e.handleSubmit=function(t){if(t!==e.state.search&&e.setState({gallery:[],search:t,currentPage:1,error:null}),t);else{b.b.warn("Search field is empty! Your Majesty",h)}},e.onLoadMoreButtonClick=function(){if(e.state.currentPage>2){var t={top:null,behavior:"smooth"};t.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(t)}),1e3)}},e.handleImageClick=function(t){if("IMG"===t.target.nodeName){t.preventDefault();var a=t.target.getAttribute("data-large"),n=t.target.getAttribute("src"),r=t.target.getAttribute("alt");e.setState({selectedBigImageURL:a,selectedLowImageURL:n,isModalOpen:!0,altImageTitle:r})}},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen}),e.state.isModalOpen&&(document.body.style.overflowY="hidden")},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchPictures()}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.gallery,r=e.isLoading,o=e.selectedBigImageURL,c=e.isModalOpen,l=e.selectedLowImageURL,i=e.altImageTitle;return Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(y,{onSubmit:this.handleSubmit}),Object(j.jsx)(b.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:60}),r&&Object(j.jsx)(U,{children:Object(j.jsx)(G,{})}),t&&Object(j.jsx)(M,{gallery:a,onClick:this.handleImageClick}),c&&Object(j.jsx)($,{onClose:this.toggleModal,children:Object(j.jsx)("img",{src:l,"data-src":o,alt:i})}),Object(j.jsx)(U,{children:t&&a.length>11&&Object(j.jsx)(k,{onClick:this.fetchPictures})})]})}}]),a}(n.Component)),re=ne;c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(re,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.5d7a59e9.chunk.js.map