(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={Backdrop:"Modal_Backdrop__227bQ",Modal:"Modal_Modal__1oGgW",CloseModal:"Modal_CloseModal__3u-gp"}},14:function(e,t,a){e.exports={GalleryItem:"GalleryItem_GalleryItem__8GVeX",GalleryItem__image:"GalleryItem_GalleryItem__image__iRJqy"}},26:function(e,t,a){e.exports={Button:"Button_Button__17xtT"}},27:function(e,t,a){e.exports={Gallery:"Gallery_Gallery__1gHUn"}},29:function(e,t,a){e.exports={IconButton:"IconButton_IconButton__1k1AI"}},36:function(e,t,a){},61:function(e,t,a){},8:function(e,t,a){e.exports={Search:"Searchbar_Search__2TsI-",Search__form:"Searchbar_Search__form__3vHB9",Search__button:"Searchbar_Search__button__CNEj6",Search__label:"Searchbar_Search__label__zjZpS",Search__input:"Searchbar_Search__input__1B4YD"}},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),l=(a(36),a(15)),i=a(4),s=a(5),u=a(7),h=a(6),d=a(25),p=(a(38),a(39),a(8)),m=a.n(p),g=a(0),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){var a=e.state.query;t.preventDefault(),a?(e.props.onSubmit(a),e.setState({query:""})):Object(d.error)("Search field is empty!")},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsx)("header",{className:m.a.Search,children:Object(g.jsxs)("form",{className:m.a.Search__form,onSubmit:this.handleSubmit,children:[Object(g.jsx)("button",{className:m.a.Search__button,type:"submit",children:Object(g.jsx)("span",{className:m.a.Search__label,children:"Search"})}),Object(g.jsx)("input",{name:"form_input",value:e,onChange:this.handleChange,className:m.a.Search__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),f=b,j=a(26),_=a.n(j),y=function(e){var t=e.onClick;return Object(g.jsx)("button",{className:_.a.Button,type:"button",onClick:t,children:"Load More"})},O=a(14),v=a.n(O),S=function(e,t){var a=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(g.jsx)("li",{className:v.a.GalleryItem,children:Object(g.jsx)("img",{onClick:t,src:n,"data-large":r,alt:c,className:v.a.GalleryItem__image})},"id-".concat(a))},x=a(27),w=a.n(x),k=function(e){var t=e.gallery,a=e.onClick;return Object(g.jsx)("ul",{className:w.a.Gallery,children:t.map((function(e){return S(e,a)}))})},C=a(28),I=a.n(C),L=(a(61),function(){return Object(g.jsx)(I.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}),B=function(e){var t=e.children;return Object(g.jsx)("div",{className:"Section",children:t})},M=a(16),N=a(31),P=a(29),G=a.n(P),R=["children","onClick","className"],U=function(e){var t=e.children,a=e.onClick,n=e.className,r=Object(N.a)(e,R);return Object(g.jsx)("button",Object(M.a)(Object(M.a)({onClick:a,type:"button",className:"".concat(G.a.IconButton," ").concat(n)},r),{},{children:t}))};U.defaultProps={onClick:function(){return null},children:null};var q,E=U,T=a(12),A=a.n(T),D=["title","titleId"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(this,arguments)}function z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function H(e,t){var a=e.title,r=e.titleId,c=z(e,D);return n.createElement("svg",F({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,q||(q=n.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var J=n.forwardRef(H),K=(a.p,document.querySelector("#root-modal")),Y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(g.jsx)("div",{className:A.a.Backdrop,onClick:this.handleBackdropClick,children:Object(g.jsxs)("div",{className:A.a.Modal,children:[Object(g.jsx)(E,{onClick:this.props.onClose,className:A.a.CloseModal,"aria-label":"Close Modal Button",children:Object(g.jsx)(J,{width:"32",height:"32"})}),this.props.children]})}),K)}}]),a}(n.Component),W=Y,X=a(30),Q=a.n(X),V=a(2),Z=a.n(V),$=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"23935285-7259499af9fe05c3ca983c7fa"}),n="".concat("https://pixabay.com/api/","?").concat(a);return Q.a.get(n).then((function(e){return 200===e.status&&0!==e.data.hits.length?e.data.hits:null}))};$.propTypes={query:Z.a.string.isRequired,currentPage:Z.a.number.isRequired};var ee=$,te=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],isLoading:!1,currentPage:1,search:"",error:null,selectedBigImageURL:"",selectedLowImageURL:"",altImageTitle:"",isModalOpen:!1},e.fetchPictures=function(){var t=e.state,a=t.search,n=t.currentPage;e.setState({isLoading:!0}),ee(a,n).then((function(t){e.setState((function(e){return{gallery:[].concat(Object(l.a)(e.gallery),Object(l.a)(t)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.onLoadMoreButtonClick(),e.setState({isLoading:!1})}))},e.handleSubmit=function(t){t!==e.state.search&&e.setState({gallery:[],search:t,currentPage:1,error:null})},e.onLoadMoreButtonClick=function(){var t={top:window.pageYOffset+document.documentElement.scrollHeight,behavior:"smooth"};e.state.currentPage>2&&setTimeout((function(){window.scrollTo(t)}),1e3)},e.handleImageClick=function(t){if("IMG"===t.target.nodeName){t.preventDefault();var a=t.target.getAttribute("data-large"),n=t.target.getAttribute("src"),r=t.target.getAttribute("alt");e.setState({selectedBigImageURL:a,selectedLowImageURL:n,isModalOpen:!0,altImageTitle:r})}},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen}),e.state.isModalOpen&&(document.body.style.overflowY="hidden")},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchPictures()}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.gallery,r=e.isLoading,c=e.selectedBigImageURL,o=e.isModalOpen,l=e.selectedLowImageURL,i=e.altImageTitle;return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)(f,{onSubmit:this.handleSubmit}),r&&Object(g.jsx)(B,{children:Object(g.jsx)(L,{})}),t&&Object(g.jsx)(k,{gallery:a,onClick:this.handleImageClick}),o&&Object(g.jsx)(W,{onClose:this.toggleModal,children:Object(g.jsx)("img",{src:l,"data-src":c,alt:i})}),Object(g.jsx)(B,{children:!r&&t&&Object(g.jsx)(y,{onClick:this.fetchPictures})})]})}}]),a}(n.Component),ae=te;o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(ae,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.2e4b0d36.chunk.js.map