(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Search:"Searchbar_Search__2TsI-",Search__form:"Searchbar_Search__form__3vHB9",Search__button:"Searchbar_Search__button__CNEj6",Search__label:"Searchbar_Search__label__zjZpS",Search__input:"Searchbar_Search__input__1B4YD"}},13:function(e,t,a){e.exports={Backdrop:"Modal_Backdrop__227bQ",Modal:"Modal_Modal__1oGgW",CloseModal:"Modal_CloseModal__3u-gp"}},15:function(e,t,a){e.exports={GalleryItem:"GalleryItem_GalleryItem__8GVeX",GalleryItem__image:"GalleryItem_GalleryItem__image__iRJqy"}},26:function(e,t,a){e.exports={Button:"Button_Button__17xtT"}},27:function(e,t,a){e.exports={Gallery:"Gallery_Gallery__1gHUn"}},29:function(e,t,a){e.exports={IconButton:"IconButton_IconButton__1k1AI"}},36:function(e,t,a){},58:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),l=(a(36),a(16)),i=a(6),s=a(7),u=a(9),h=a(8),d={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},p={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},g=a(4),b=a(10),f=a.n(b),m=a(1),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.query,n=e.props.onSubmit;t.preventDefault(),""!==a.trim()?(n(a),e.setState({query:""})):g.b.info("Write something! Your Majesty",p)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(m.jsx)("header",{className:f.a.Search,children:Object(m.jsxs)("form",{className:f.a.Search__form,onSubmit:this.handleSubmit,children:[Object(m.jsx)("button",{className:f.a.Search__button,type:"submit",children:Object(m.jsx)("span",{className:f.a.Search__label,children:"Search"})}),Object(m.jsx)("input",{name:"form_input",value:e,onChange:this.handleChange,className:f.a.Search__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"What are we looking for? Your Majesty"})]})})}}]),a}(n.Component),y=j,_=a(26),O=a.n(_),v=function(e){var t=e.onClick;return Object(m.jsx)("button",{className:O.a.Button,type:"button",onClick:t,children:"Load More"})},k=a(15),x=a.n(k),C=function(e,t){var a=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(m.jsx)("li",{className:x.a.GalleryItem,children:Object(m.jsx)("img",{onClick:t,src:n,"data-src":r,alt:o,className:x.a.GalleryItem__image})},"id-".concat(a))};C.defaultProps={onClick:function(){return null}};var S=C,w=a(27),M=a.n(w),I=function(e){var t=e.gallery,a=e.onClick;return Object(m.jsx)("ul",{className:M.a.Gallery,children:t.map((function(e){return S(e,a)}))})};I.defaultProps={onClick:function(){return null}};var B=I,L=a(28),N=a.n(L),P=(a(58),function(){return Object(m.jsx)(N.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}),G=function(e){var t=e.children;return Object(m.jsx)("div",{className:"Section",children:t})},E=a(17),T=a(31),U=a(29),Y=a.n(U),q=["children","onClick","className"],D=function(e){var t=e.children,a=e.onClick,n=e.className,r=Object(T.a)(e,q);return Object(m.jsx)("button",Object(E.a)(Object(E.a)({onClick:a,type:"button",className:"".concat(Y.a.IconButton," ").concat(n)},r),{},{children:t}))};D.defaultProps={onClick:function(){return null},children:null};var R,A=D,F=a(13),H=a.n(F),W=["title","titleId"];function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z.apply(this,arguments)}function J(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function K(e,t){var a=e.title,r=e.titleId,o=J(e,W);return n.createElement("svg",z({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,R||(R=n.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var X=n.forwardRef(K),Q=(a.p,document.querySelector("#root-modal")),V=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.children;return Object(o.createPortal)(Object(m.jsx)("div",{className:H.a.Backdrop,onClick:this.handleBackdropClick,children:Object(m.jsxs)("div",{className:H.a.Modal,children:[Object(m.jsx)(A,{onClick:t,className:H.a.CloseModal,"aria-label":"Close Modal Button",children:Object(m.jsx)(X,{width:"32",height:"32"})}),a]})}),Q)}}]),a}(n.Component),Z=V,$=a(30),ee=a.n($),te=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"23935285-7259499af9fe05c3ca983c7fa"}),n="".concat("https://pixabay.com/api/","?").concat(a);return ee.a.get(n).then((function(t){return 200===t.status&&0!==t.data.hits.length?t.data.hits:Promise.reject(new Error(console.log('No images by name "'.concat(e,'", Your Majesty'))))}))},ae=(a(77),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],isLoading:!1,currentPage:1,search:"",error:null,fullImageURL:"",altImageTitle:"",isModalOpen:!1},e.fetchPictures=function(){var t=e.state,a=t.search,n=t.currentPage;e.setState({isLoading:!0}),te(a,n).then((function(t){t?(t.length>1&&g.b.info("Found! Your Majesty",p),e.setState((function(e){return{gallery:[].concat(Object(l.a)(e.gallery),Object(l.a)(t)),currentPage:e.currentPage+1}}))):g.b.error("No such results! Your Majesty",d)})).catch((function(t){var a=e.state.search;g.b.error('No images by "'.concat(a,'", Your Majesty'),d),e.setState({error:t})})).finally((function(){e.onLoadMoreButtonClick(),e.setState({isLoading:!1})}))},e.handleSubmit=function(t){t!==e.state.search&&e.setState({gallery:[],search:t,currentPage:1,error:null})},e.onLoadMoreButtonClick=function(){if(e.state.currentPage>2){var t={top:null,behavior:"smooth"};t.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(t)}),1e3)}},e.handleImageClick=function(t){if("IMG"===t.target.nodeName){t.preventDefault();var a=t.target.getAttribute("data-src"),n=t.target.getAttribute("alt");e.setState({fullImageURL:a,isModalOpen:!0,altImageTitle:n})}},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen}),e.state.isModalOpen&&(document.body.style.overflowY="hidden")},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.search;t.search!==a&&this.fetchPictures()}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.gallery,r=e.isLoading,o=e.fullImageURL,c=e.isModalOpen,l=e.altImageTitle;return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(y,{onSubmit:this.handleSubmit}),Object(m.jsx)(g.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:60}),r&&Object(m.jsx)(G,{children:Object(m.jsx)(P,{})}),t&&Object(m.jsx)(B,{gallery:a,onClick:this.handleImageClick}),c&&Object(m.jsx)(Z,{onClose:this.toggleModal,children:Object(m.jsx)("img",{src:o,alt:l})}),Object(m.jsx)(G,{children:t&&a.length>11&&Object(m.jsx)(v,{onClick:this.fetchPictures})})]})}}]),a}(n.Component)),ne=ae;c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ne,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.c940b524.chunk.js.map